---
import BaseLayout from "../layouts/base-layout.astro";
import VarietyCard from "../components/variety-card.astro";
import { getCollection } from "astro:content";

const varieties = await getCollection("varieties");
---

<BaseLayout title="Home">
  <section class="px-6 py-16 max-w-2xl">
    <h1 class="mb-6">Dahlia Tubers</h1>
    <p class="text-lg leading-relaxed text-neutral-600">
      Small-batch dahlia tubers grown with care. Order in spring, plant after
      last frost, enjoy blooms from midsummer through fall.
    </p>
    <a
      href="/varieties"
      class="inline-block mt-8 border border-black px-6 py-3 text-sm uppercase tracking-widest no-underline hover:bg-black hover:text-white transition-colors"
    >
      Shop All Varieties
    </a>
  </section>

  <section class="px-6 py-12 border-t border-black">
    <h2 class="mb-8">Featured Varieties</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {varieties.slice(0, 3).map((variety) => (
        <VarietyCard variety={variety} />
      ))}
    </div>
  </section>
</BaseLayout>
